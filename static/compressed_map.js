function distanceGeo(a,b){Number.prototype.toRad=function(){return this*Math.PI/180};var c=TuftsLat,d=TuftsLng,e=6371,f=a-c,g=f.toRad(),h=b-d,i=h.toRad(),j=Math.sin(g/2)*Math.sin(g/2)+Math.cos(c.toRad())*Math.cos(a.toRad())*Math.sin(i/2)*Math.sin(i/2),k=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j)),l=e*k;return l/=1.60934}for(var TuftsLat=42.4055218,TuftsLng=-71.12003240000001,TuftsLatLng=new google.maps.LatLng(TuftsLat,TuftsLng),MapCenter=new google.maps.LatLng(42.406824,-71.116478),infowindow=new google.maps.InfoWindow,mapOptions={zoom:15,center:MapCenter,mapTypeId:"roadmap"},map=new google.maps.Map(document.getElementById("map-campus"),mapOptions),marker=new google.maps.Marker({position:TuftsLatLng,map:map}),house,i=0;i<houses.length;i++)house=new google.maps.LatLng(houses[i].Latitude,houses[i].Longitude),distance=Number(houses[i].DistFromCC.toFixed(3)),houseProfileURL="/house_profile/"+houses[i].Id,infoMessage="<a class='markerLink' href="+houseProfileURL+"><p>Address: "+houses[i].Address1+" "+houses[i].Address2+" "+houses[i].City+"<br>"+houses[i].State+", "+houses[i].Zipcode+"</p></a><p>Bedrooms: "+houses[i].Rooms+"</p><p>Distance from Campus Center: "+distance+" miles</p>",marker=new google.maps.Marker({icon:"static/images/marker_small.png",position:house,title:infoMessage}),google.maps.event.addListener(marker,"click",function(a,b){return function(){infowindow.setContent(a.title),infowindow.open(map,a)}}(marker,i)),marker.setMap(map);